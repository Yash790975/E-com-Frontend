{"ast":null,"code":"// src/redux/reducers/handleCart.js\n// Retrieve initial state from localStorage if available\nconst getInitialCart = () => {\n  const storedCart = localStorage.getItem(\"cart\");\n  return storedCart ? JSON.parse(storedCart) : [];\n};\nconst handleCart = (state = getInitialCart(), action) => {\n  console.log(\"[cart reducer] action:\", action.type, \"payload:\", action.payload);\n  let updatedCart;\n  switch (action.type) {\n    case \"ADDITEM\":\n      const exist = state.find(x => x.id === action.payload.id);\n      if (exist) {\n        updatedCart = state.map(x => x.id === action.payload.id ? {\n          ...x,\n          qty: x.qty + 1\n        } : x);\n      } else {\n        updatedCart = [...state, {\n          ...action.payload,\n          qty: 1\n        }];\n      }\n      localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\n      return updatedCart;\n    case \"DELITEM\":\n      const exist2 = state.find(x => x.id === action.payload.id);\n      if (exist2.qty === 1) {\n        updatedCart = state.filter(x => x.id !== action.payload.id);\n      } else {\n        updatedCart = state.map(x => x.id === action.payload.id ? {\n          ...x,\n          qty: x.qty - 1\n        } : x);\n      }\n      localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\n      return updatedCart;\n    default:\n      return state;\n  }\n};\nexport default handleCart;","map":{"version":3,"names":["getInitialCart","storedCart","localStorage","getItem","JSON","parse","handleCart","state","action","console","log","type","payload","updatedCart","exist","find","x","id","map","qty","setItem","stringify","exist2","filter"],"sources":["Y:/MY/Certificate/E-COM/E_Commerce/src/redux/reducer/handleCart.js"],"sourcesContent":["// src/redux/reducers/handleCart.js\n// Retrieve initial state from localStorage if available\nconst getInitialCart = () => {\n  const storedCart = localStorage.getItem(\"cart\");\n  return storedCart ? JSON.parse(storedCart) : [];\n};\n\nconst handleCart = (state = getInitialCart(), action) => {\n  console.log(\"[cart reducer] action:\", action.type, \"payload:\", action.payload);\n  let updatedCart;\n\n  switch (action.type) {\n    case \"ADDITEM\":\n      const exist = state.find((x) => x.id === action.payload.id);\n      if (exist) {\n        updatedCart = state.map(x =>\n          x.id === action.payload.id ? { ...x, qty: x.qty + 1 } : x\n        );\n      } else {\n        updatedCart = [...state, { ...action.payload, qty: 1 }];\n      }\n      localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\n      return updatedCart;\n\n    case \"DELITEM\":\n      const exist2 = state.find(x => x.id === action.payload.id);\n      if (exist2.qty === 1) {\n        updatedCart = state.filter(x => x.id !== action.payload.id);\n      } else {\n        updatedCart = state.map(x =>\n          x.id === action.payload.id ? { ...x, qty: x.qty - 1 } : x\n        );\n      }\n      localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\n      return updatedCart;\n\n    default:\n      return state;\n  }\n};\n\nexport default handleCart;\n"],"mappings":"AAAA;AACA;AACA,MAAMA,cAAc,GAAGA,CAAA,KAAM;EAC3B,MAAMC,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;EAC/C,OAAOF,UAAU,GAAGG,IAAI,CAACC,KAAK,CAACJ,UAAU,CAAC,GAAG,EAAE;AACjD,CAAC;AAED,MAAMK,UAAU,GAAGA,CAACC,KAAK,GAAGP,cAAc,CAAC,CAAC,EAAEQ,MAAM,KAAK;EACvDC,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEF,MAAM,CAACG,IAAI,EAAE,UAAU,EAAEH,MAAM,CAACI,OAAO,CAAC;EAC9E,IAAIC,WAAW;EAEf,QAAQL,MAAM,CAACG,IAAI;IACjB,KAAK,SAAS;MACZ,MAAMG,KAAK,GAAGP,KAAK,CAACQ,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAKT,MAAM,CAACI,OAAO,CAACK,EAAE,CAAC;MAC3D,IAAIH,KAAK,EAAE;QACTD,WAAW,GAAGN,KAAK,CAACW,GAAG,CAACF,CAAC,IACvBA,CAAC,CAACC,EAAE,KAAKT,MAAM,CAACI,OAAO,CAACK,EAAE,GAAG;UAAE,GAAGD,CAAC;UAAEG,GAAG,EAAEH,CAAC,CAACG,GAAG,GAAG;QAAE,CAAC,GAAGH,CAC1D,CAAC;MACH,CAAC,MAAM;QACLH,WAAW,GAAG,CAAC,GAAGN,KAAK,EAAE;UAAE,GAAGC,MAAM,CAACI,OAAO;UAAEO,GAAG,EAAE;QAAE,CAAC,CAAC;MACzD;MACAjB,YAAY,CAACkB,OAAO,CAAC,MAAM,EAAEhB,IAAI,CAACiB,SAAS,CAACR,WAAW,CAAC,CAAC;MACzD,OAAOA,WAAW;IAEpB,KAAK,SAAS;MACZ,MAAMS,MAAM,GAAGf,KAAK,CAACQ,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKT,MAAM,CAACI,OAAO,CAACK,EAAE,CAAC;MAC1D,IAAIK,MAAM,CAACH,GAAG,KAAK,CAAC,EAAE;QACpBN,WAAW,GAAGN,KAAK,CAACgB,MAAM,CAACP,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKT,MAAM,CAACI,OAAO,CAACK,EAAE,CAAC;MAC7D,CAAC,MAAM;QACLJ,WAAW,GAAGN,KAAK,CAACW,GAAG,CAACF,CAAC,IACvBA,CAAC,CAACC,EAAE,KAAKT,MAAM,CAACI,OAAO,CAACK,EAAE,GAAG;UAAE,GAAGD,CAAC;UAAEG,GAAG,EAAEH,CAAC,CAACG,GAAG,GAAG;QAAE,CAAC,GAAGH,CAC1D,CAAC;MACH;MACAd,YAAY,CAACkB,OAAO,CAAC,MAAM,EAAEhB,IAAI,CAACiB,SAAS,CAACR,WAAW,CAAC,CAAC;MACzD,OAAOA,WAAW;IAEpB;MACE,OAAON,KAAK;EAChB;AACF,CAAC;AAED,eAAeD,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}