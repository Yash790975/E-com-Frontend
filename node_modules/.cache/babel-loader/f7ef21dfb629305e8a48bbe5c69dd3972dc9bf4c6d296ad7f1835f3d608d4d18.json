{"ast":null,"code":"import _toConsumableArray from\"Y:/MY/Certificate/E-COM/E_Commerce/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"Y:/MY/Certificate/E-COM/E_Commerce/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/redux/reducers/handleCart.js\n// Retrieve initial state from localStorage if available\nvar getInitialCart=function getInitialCart(){var storedCart=localStorage.getItem(\"cart\");return storedCart?JSON.parse(storedCart):[];};var handleCart=function handleCart(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:getInitialCart();var action=arguments.length>1?arguments[1]:undefined;console.log(\"[cart reducer] action:\",action.type,\"payload:\",action.payload);var updatedCart;switch(action.type){case\"ADDITEM\":var exist=state.find(function(x){return x.id===action.payload.id;});if(exist){updatedCart=state.map(function(x){return x.id===action.payload.id?_objectSpread(_objectSpread({},x),{},{qty:x.qty+1}):x;});}else{updatedCart=[].concat(_toConsumableArray(state),[_objectSpread(_objectSpread({},action.payload),{},{qty:1})]);}localStorage.setItem(\"cart\",JSON.stringify(updatedCart));return updatedCart;case\"DELITEM\":var exist2=state.find(function(x){return x.id===action.payload.id;});if(exist2.qty===1){updatedCart=state.filter(function(x){return x.id!==action.payload.id;});}else{updatedCart=state.map(function(x){return x.id===action.payload.id?_objectSpread(_objectSpread({},x),{},{qty:x.qty-1}):x;});}localStorage.setItem(\"cart\",JSON.stringify(updatedCart));return updatedCart;default:return state;}};export default handleCart;","map":{"version":3,"names":["getInitialCart","storedCart","localStorage","getItem","JSON","parse","handleCart","state","arguments","length","undefined","action","console","log","type","payload","updatedCart","exist","find","x","id","map","_objectSpread","qty","concat","_toConsumableArray","setItem","stringify","exist2","filter"],"sources":["Y:/MY/Certificate/E-COM/E_Commerce/src/redux/reducer/handleCart.js"],"sourcesContent":["// src/redux/reducers/handleCart.js\n// Retrieve initial state from localStorage if available\nconst getInitialCart = () => {\n  const storedCart = localStorage.getItem(\"cart\");\n  return storedCart ? JSON.parse(storedCart) : [];\n};\n\nconst handleCart = (state = getInitialCart(), action) => {\n  console.log(\"[cart reducer] action:\", action.type, \"payload:\", action.payload);\n  let updatedCart;\n\n  switch (action.type) {\n    case \"ADDITEM\":\n      const exist = state.find((x) => x.id === action.payload.id);\n      if (exist) {\n        updatedCart = state.map(x =>\n          x.id === action.payload.id ? { ...x, qty: x.qty + 1 } : x\n        );\n      } else {\n        updatedCart = [...state, { ...action.payload, qty: 1 }];\n      }\n      localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\n      return updatedCart;\n\n    case \"DELITEM\":\n      const exist2 = state.find(x => x.id === action.payload.id);\n      if (exist2.qty === 1) {\n        updatedCart = state.filter(x => x.id !== action.payload.id);\n      } else {\n        updatedCart = state.map(x =>\n          x.id === action.payload.id ? { ...x, qty: x.qty - 1 } : x\n        );\n      }\n      localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\n      return updatedCart;\n\n    default:\n      return state;\n  }\n};\n\nexport default handleCart;\n"],"mappings":"uPAAA;AACA;AACA,GAAM,CAAAA,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CAC3B,GAAM,CAAAC,UAAU,CAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAC/C,MAAO,CAAAF,UAAU,CAAGG,IAAI,CAACC,KAAK,CAACJ,UAAU,CAAC,CAAG,EAAE,CACjD,CAAC,CAED,GAAM,CAAAK,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAyC,IAArC,CAAAC,KAAK,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAGR,cAAc,CAAC,CAAC,IAAE,CAAAW,MAAM,CAAAH,SAAA,CAAAC,MAAA,GAAAD,SAAA,IAAAE,SAAA,CAClDE,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAEF,MAAM,CAACG,IAAI,CAAE,UAAU,CAAEH,MAAM,CAACI,OAAO,CAAC,CAC9E,GAAI,CAAAC,WAAW,CAEf,OAAQL,MAAM,CAACG,IAAI,EACjB,IAAK,SAAS,CACZ,GAAM,CAAAG,KAAK,CAAGV,KAAK,CAACW,IAAI,CAAC,SAACC,CAAC,QAAK,CAAAA,CAAC,CAACC,EAAE,GAAKT,MAAM,CAACI,OAAO,CAACK,EAAE,GAAC,CAC3D,GAAIH,KAAK,CAAE,CACTD,WAAW,CAAGT,KAAK,CAACc,GAAG,CAAC,SAAAF,CAAC,QACvB,CAAAA,CAAC,CAACC,EAAE,GAAKT,MAAM,CAACI,OAAO,CAACK,EAAE,CAAAE,aAAA,CAAAA,aAAA,IAAQH,CAAC,MAAEI,GAAG,CAAEJ,CAAC,CAACI,GAAG,CAAG,CAAC,GAAKJ,CAAC,EAC3D,CAAC,CACH,CAAC,IAAM,CACLH,WAAW,IAAAQ,MAAA,CAAAC,kBAAA,CAAOlB,KAAK,GAAAe,aAAA,CAAAA,aAAA,IAAOX,MAAM,CAACI,OAAO,MAAEQ,GAAG,CAAE,CAAC,IAAG,CACzD,CACArB,YAAY,CAACwB,OAAO,CAAC,MAAM,CAAEtB,IAAI,CAACuB,SAAS,CAACX,WAAW,CAAC,CAAC,CACzD,MAAO,CAAAA,WAAW,CAEpB,IAAK,SAAS,CACZ,GAAM,CAAAY,MAAM,CAAGrB,KAAK,CAACW,IAAI,CAAC,SAAAC,CAAC,QAAI,CAAAA,CAAC,CAACC,EAAE,GAAKT,MAAM,CAACI,OAAO,CAACK,EAAE,GAAC,CAC1D,GAAIQ,MAAM,CAACL,GAAG,GAAK,CAAC,CAAE,CACpBP,WAAW,CAAGT,KAAK,CAACsB,MAAM,CAAC,SAAAV,CAAC,QAAI,CAAAA,CAAC,CAACC,EAAE,GAAKT,MAAM,CAACI,OAAO,CAACK,EAAE,GAAC,CAC7D,CAAC,IAAM,CACLJ,WAAW,CAAGT,KAAK,CAACc,GAAG,CAAC,SAAAF,CAAC,QACvB,CAAAA,CAAC,CAACC,EAAE,GAAKT,MAAM,CAACI,OAAO,CAACK,EAAE,CAAAE,aAAA,CAAAA,aAAA,IAAQH,CAAC,MAAEI,GAAG,CAAEJ,CAAC,CAACI,GAAG,CAAG,CAAC,GAAKJ,CAAC,EAC3D,CAAC,CACH,CACAjB,YAAY,CAACwB,OAAO,CAAC,MAAM,CAAEtB,IAAI,CAACuB,SAAS,CAACX,WAAW,CAAC,CAAC,CACzD,MAAO,CAAAA,WAAW,CAEpB,QACE,MAAO,CAAAT,KAAK,CAChB,CACF,CAAC,CAED,cAAe,CAAAD,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}