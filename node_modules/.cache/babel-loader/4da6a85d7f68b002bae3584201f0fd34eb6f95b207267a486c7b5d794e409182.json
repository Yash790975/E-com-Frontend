{"ast":null,"code":"import _objectSpread from\"Y:/MY/Certificate/E-COM/E_Commerce/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// // redux/reducer/authReducer.js\n// import {\n//   LOGIN_REQUEST,\n//   LOGIN_SUCCESS,\n//   LOGIN_FAIL,\n//   REGISTER_REQUEST,\n//   REGISTER_SUCCESS,\n//   REGISTER_FAIL,\n//   LOGOUT,\n//   USER_LOADED,\n//   AUTH_ERROR\n// } from '../action/authActions';\n// // Get user from localStorage\n// const user = localStorage.getItem('user') ? JSON.parse(localStorage.getItem('user')) : null;\n// const token = localStorage.getItem('token');\n// const initialState = {\n//   token: token || null,\n//   isAuthenticated: !!token,\n//   user: user || null,\n//   loading: false,\n//   error: null\n// };\n// const authReducer = (state = initialState, action) => {\n//   const { type, payload } = action;\n//   switch (type) {\n//     case LOGIN_REQUEST:\n//     case REGISTER_REQUEST:\n//       return {\n//         ...state,\n//         loading: true,\n//         error: null\n//       };\n//     case USER_LOADED:\n//       return {\n//         ...state,\n//         isAuthenticated: true,\n//         loading: false,\n//         user: payload\n//       };\n//     case LOGIN_SUCCESS:\n//     case REGISTER_SUCCESS:\n//       return {\n//         ...state,\n//         token: payload.token,\n//         isAuthenticated: true,\n//         loading: false,\n//         user: payload.user,\n//         error: null\n//       };\n//     case AUTH_ERROR:\n//     case LOGIN_FAIL:\n//     case REGISTER_FAIL:\n//     case LOGOUT:\n//       return {\n//         ...state,\n//         token: null,\n//         isAuthenticated: false,\n//         loading: false,\n//         user: null,\n//         error: payload\n//       };\n//     default:\n//       return state;\n//   }\n// };\n// export default authReducer;\nimport{REGISTER_SUCCESS,REGISTER_FAIL,LOGIN_SUCCESS,LOGIN_FAIL,LOGOUT,AUTH_ERROR,USER_LOADED}from'../action/authActions';const initialState={token:localStorage.getItem('token'),// isAuthenticated: null,\nisAuthenticated:false,loading:true,user:null,error:null};const authReducer=function(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;let action=arguments.length>1?arguments[1]:undefined;const{type,payload}=action;switch(type){case USER_LOADED:return _objectSpread(_objectSpread({},state),{},{isAuthenticated:true,loading:false,user:action.payload});case REGISTER_SUCCESS:case LOGIN_SUCCESS:localStorage.setItem('token',action.payload.token);return _objectSpread(_objectSpread({},state),{},{// ...payload,\ntoken:action.payload.token,isAuthenticated:true,loading:false,error:null});case REGISTER_FAIL:case LOGIN_FAIL:case AUTH_ERROR:case LOGOUT:localStorage.removeItem('token');return _objectSpread(_objectSpread({},state),{},{token:null,isAuthenticated:false,loading:false,user:null,error:payload});default:return state;}};export default authReducer;","map":{"version":3,"names":["REGISTER_SUCCESS","REGISTER_FAIL","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT","AUTH_ERROR","USER_LOADED","initialState","token","localStorage","getItem","isAuthenticated","loading","user","error","authReducer","state","arguments","length","undefined","action","type","payload","_objectSpread","setItem","removeItem"],"sources":["Y:/MY/Certificate/E-COM/E_Commerce/src/redux/reducer/authReducer.js"],"sourcesContent":["// // redux/reducer/authReducer.js\r\n// import {\r\n//   LOGIN_REQUEST,\r\n//   LOGIN_SUCCESS,\r\n//   LOGIN_FAIL,\r\n//   REGISTER_REQUEST,\r\n//   REGISTER_SUCCESS,\r\n//   REGISTER_FAIL,\r\n//   LOGOUT,\r\n//   USER_LOADED,\r\n//   AUTH_ERROR\r\n// } from '../action/authActions';\r\n\r\n// // Get user from localStorage\r\n// const user = localStorage.getItem('user') ? JSON.parse(localStorage.getItem('user')) : null;\r\n// const token = localStorage.getItem('token');\r\n\r\n// const initialState = {\r\n//   token: token || null,\r\n//   isAuthenticated: !!token,\r\n//   user: user || null,\r\n//   loading: false,\r\n//   error: null\r\n// };\r\n\r\n// const authReducer = (state = initialState, action) => {\r\n//   const { type, payload } = action;\r\n  \r\n//   switch (type) {\r\n//     case LOGIN_REQUEST:\r\n//     case REGISTER_REQUEST:\r\n//       return {\r\n//         ...state,\r\n//         loading: true,\r\n//         error: null\r\n//       };\r\n//     case USER_LOADED:\r\n//       return {\r\n//         ...state,\r\n//         isAuthenticated: true,\r\n//         loading: false,\r\n//         user: payload\r\n//       };\r\n//     case LOGIN_SUCCESS:\r\n//     case REGISTER_SUCCESS:\r\n//       return {\r\n//         ...state,\r\n//         token: payload.token,\r\n//         isAuthenticated: true,\r\n//         loading: false,\r\n//         user: payload.user,\r\n//         error: null\r\n//       };\r\n//     case AUTH_ERROR:\r\n//     case LOGIN_FAIL:\r\n//     case REGISTER_FAIL:\r\n//     case LOGOUT:\r\n//       return {\r\n//         ...state,\r\n//         token: null,\r\n//         isAuthenticated: false,\r\n//         loading: false,\r\n//         user: null,\r\n//         error: payload\r\n//       };\r\n//     default:\r\n//       return state;\r\n//   }\r\n// };\r\n\r\n// export default authReducer;\r\n\r\n\r\nimport {\r\n  REGISTER_SUCCESS,\r\n  REGISTER_FAIL,\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAIL,\r\n  LOGOUT,\r\n  AUTH_ERROR,\r\n  USER_LOADED\r\n} from '../action/authActions';\r\n\r\nconst initialState = {\r\n  token: localStorage.getItem('token'),\r\n  // isAuthenticated: null,\r\n  isAuthenticated: false,\r\n  loading: true,\r\n  user: null,\r\n  error: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case USER_LOADED:\r\n      return {\r\n        ...state,\r\n        isAuthenticated: true,\r\n        loading: false,\r\n        user: action.payload,\r\n      };\r\n    case REGISTER_SUCCESS:\r\n    case LOGIN_SUCCESS:\r\n      localStorage.setItem('token', action.payload.token);\r\n      return {\r\n        ...state,\r\n        // ...payload,\r\n        token: action.payload.token,\r\n        isAuthenticated: true,\r\n        loading: false,\r\n        error: null\r\n      };\r\n    case REGISTER_FAIL:\r\n    case LOGIN_FAIL:\r\n    case AUTH_ERROR:\r\n    case LOGOUT:\r\n      localStorage.removeItem('token');\r\n      return {\r\n        ...state,\r\n        token: null,\r\n        isAuthenticated: false,\r\n        loading: false,\r\n        user: null,\r\n        error: payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;"],"mappings":"uHAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA,OACEA,gBAAgB,CAChBC,aAAa,CACbC,aAAa,CACbC,UAAU,CACVC,MAAM,CACNC,UAAU,CACVC,WAAW,KACN,uBAAuB,CAE9B,KAAM,CAAAC,YAAY,CAAG,CACnBC,KAAK,CAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CACpC;AACAC,eAAe,CAAE,KAAK,CACtBC,OAAO,CAAE,IAAI,CACbC,IAAI,CAAE,IAAI,CACVC,KAAK,CAAE,IACT,CAAC,CAED,KAAM,CAAAC,WAAW,CAAG,QAAAA,CAAA,CAAkC,IAAjC,CAAAC,KAAK,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAGV,YAAY,IAAE,CAAAa,MAAM,CAAAH,SAAA,CAAAC,MAAA,GAAAD,SAAA,IAAAE,SAAA,CAC/C,KAAM,CAAEE,IAAI,CAAEC,OAAQ,CAAC,CAAGF,MAAM,CAEhC,OAAQC,IAAI,EACV,IAAK,CAAAf,WAAW,CACd,OAAAiB,aAAA,CAAAA,aAAA,IACKP,KAAK,MACRL,eAAe,CAAE,IAAI,CACrBC,OAAO,CAAE,KAAK,CACdC,IAAI,CAAEO,MAAM,CAACE,OAAO,GAExB,IAAK,CAAAtB,gBAAgB,CACrB,IAAK,CAAAE,aAAa,CAChBO,YAAY,CAACe,OAAO,CAAC,OAAO,CAAEJ,MAAM,CAACE,OAAO,CAACd,KAAK,CAAC,CACnD,OAAAe,aAAA,CAAAA,aAAA,IACKP,KAAK,MACR;AACAR,KAAK,CAAEY,MAAM,CAACE,OAAO,CAACd,KAAK,CAC3BG,eAAe,CAAE,IAAI,CACrBC,OAAO,CAAE,KAAK,CACdE,KAAK,CAAE,IAAI,GAEf,IAAK,CAAAb,aAAa,CAClB,IAAK,CAAAE,UAAU,CACf,IAAK,CAAAE,UAAU,CACf,IAAK,CAAAD,MAAM,CACTK,YAAY,CAACgB,UAAU,CAAC,OAAO,CAAC,CAChC,OAAAF,aAAA,CAAAA,aAAA,IACKP,KAAK,MACRR,KAAK,CAAE,IAAI,CACXG,eAAe,CAAE,KAAK,CACtBC,OAAO,CAAE,KAAK,CACdC,IAAI,CAAE,IAAI,CACVC,KAAK,CAAEQ,OAAO,GAElB,QACE,MAAO,CAAAN,KAAK,CAChB,CACF,CAAC,CAED,cAAe,CAAAD,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}