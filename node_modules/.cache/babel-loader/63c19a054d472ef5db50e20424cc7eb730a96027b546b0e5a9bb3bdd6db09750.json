{"ast":null,"code":"import _objectSpread from\"Y:/MY/Certificate/E-COM/E_Commerce/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// import React, { useState, useEffect } from \"react\";\n// import { Link, useNavigate } from \"react-router-dom\";\n// import { Footer, Navbar } from \"../components\";\n// import axios from \"axios\";\n// import { Modal, Button } from \"react-bootstrap\";\n// const Login = () => {\n//   const [formData, setFormData] = useState({\n//     email: \"\",\n//     password: \"\"\n//   });\n//   const [error, setError] = useState(\"\");\n//   const [loading, setLoading] = useState(false);\n//   const [showSuccessModal, setShowSuccessModal] = useState(false);\n//   const [showErrorModal, setShowErrorModal] = useState(false);\n//   const [errorMessage, setErrorMessage] = useState(\"\");\n//   const [isLoggedIn, setIsLoggedIn] = useState(false);\n//   const [userName, setUserName] = useState(\"\");\n//   const navigate = useNavigate();\n//   const { email, password } = formData;\n//   // Check if user is already logged in\n//   useEffect(() => {\n//     const token = localStorage.getItem(\"token\");\n//     const user = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\n//     if (token && user) {\n//       setIsLoggedIn(true);\n//       setUserName(user.name || user.username || user.email || \"User\");\n//     }\n//   }, []);\n//   const handleLogout = () => {\n//     localStorage.removeItem(\"token\");\n//     localStorage.removeItem(\"user\");\n//     setIsLoggedIn(false);\n//     setUserName(\"\");\n//     // Show a quick logout message\n//     setError(\"You have been logged out successfully.\");\n//     setTimeout(() => setError(\"\"), 3000);\n//   };\n//   const onChange = e => setFormData({ ...formData, [e.target.name]: e.target.value });\n//   // Close modals\n//   const handleCloseSuccessModal = () => {\n//     setShowSuccessModal(false);\n//     navigate(\"/\");\n//   };\n//   const handleCloseErrorModal = () => {\n//     setShowErrorModal(false);\n//   };\n//   const onSubmit = async e => {\n//     e.preventDefault();\n//     setError(\"\");\n//     setLoading(true);\n//     try {\n//       const config = {\n//         headers: {\n//           \"Content-Type\": \"application/json\"\n//         }\n//       };\n//       const body = JSON.stringify({ email, password });\n//       const apiUrl = process.env.REACT_APP_API_URL || \"http://localhost:5000\";\n//       const res = await axios.post(`${apiUrl}/api/login`, body, config);\n//       // Save token and user to localStorage\n//       localStorage.setItem(\"token\", res.data.token);\n//       localStorage.setItem(\"user\", JSON.stringify(res.data.user));\n//       setLoading(false);\n//       // Show success modal instead of immediate redirect\n//       setShowSuccessModal(true);\n//       // Optional: Auto-redirect after success modal display (3 seconds)\n//       // setTimeout(() => {\n//       //   setShowSuccessModal(false);\n//       //   navigate(\"/\");\n//       // }, 3000);\n//     } catch (err) {\n//       const message = err.response?.data?.message || \"Login failed. Please check your credentials.\";\n//       setError(message);\n//       setErrorMessage(message);\n//       setShowErrorModal(true);\n//       setLoading(false);\n//     }\n//   };\n//   return (\n//     <>\n//       <Navbar />\n//       <div className=\"container my-3 py-3\">\n//         <h1 className=\"text-center\">Login</h1>\n//         <hr />\n//         <div className=\"row my-4 h-100\">\n//           <div className=\"col-md-6 col-lg-4 col-sm-8 mx-auto\">\n//             {error && <div className=\"alert alert-danger\">{error}</div>}\n//             {isLoggedIn ? (\n//               <div className=\"card p-4 text-center\">\n//                 <div className=\"card-body\">\n//                   <i className=\"bi bi-person-circle text-primary\" style={{ fontSize: \"3rem\" }}></i>\n//                   <h3 className=\"my-3\">Welcome back, {userName}!</h3>\n//                   <p className=\"mb-4\">You are already logged in.</p>\n//                   <div className=\"d-flex justify-content-center gap-3\">\n//                     <Button variant=\"primary\" onClick={() => navigate(\"/\")}>\n//                       Go to Homepage\n//                     </Button>\n//                     <Button variant=\"outline-danger\" onClick={handleLogout}>\n//                       Logout\n//                     </Button>\n//                   </div>\n//                 </div>\n//               </div>\n//             ) : (\n//               <form onSubmit={onSubmit}>\n//                 <div className=\"my-3\">\n//                   <label htmlFor=\"email\">Email address</label>\n//                   <input\n//                     type=\"email\"\n//                     className=\"form-control\"\n//                     id=\"email\"\n//                     name=\"email\"\n//                     value={email}\n//                     onChange={onChange}\n//                     placeholder=\"name@example.com\"\n//                     required\n//                   />\n//                 </div>\n//                 <div className=\"my-3\">\n//                   <label htmlFor=\"password\">Password</label>\n//                   <input\n//                     type=\"password\"\n//                     className=\"form-control\"\n//                     id=\"password\"\n//                     name=\"password\"\n//                     value={password}\n//                     onChange={onChange}\n//                     placeholder=\"Password\"\n//                     required\n//                   />\n//                 </div>\n//                 <div className=\"my-3\">\n//                   <p>New Here? <Link to=\"/register\" className=\"text-decoration-underline text-info\">Register</Link> </p>\n//                 </div>\n//                 <div className=\"text-center\">\n//                   <button className=\"my-2 mx-auto btn btn-dark\" type=\"submit\" disabled={loading}>\n//                     {loading ? \"Logging in...\" : \"Login\"}\n//                   </button>\n//                 </div>\n//               </form>\n//             )}\n//           </div>\n//         </div>\n//       </div>\n//       <Footer />\n//       {/* Success Modal */}\n//       <Modal show={showSuccessModal} onHide={handleCloseSuccessModal} centered>\n//         <Modal.Header closeButton className=\"bg-success text-white\">\n//           <Modal.Title>Login Successful</Modal.Title>\n//         </Modal.Header>\n//         <Modal.Body>\n//           <div className=\"text-center\">\n//             <i className=\"bi bi-check-circle-fill text-success\" style={{ fontSize: \"3rem\" }}></i>\n//             <p className=\"mt-3\">You have successfully logged in!</p>\n//           </div>\n//         </Modal.Body>\n//         <Modal.Footer>\n//           <Button variant=\"success\" onClick={handleCloseSuccessModal}>\n//             Continue\n//           </Button>\n//         </Modal.Footer>\n//       </Modal>\n//       {/* Error Modal */}\n//       <Modal show={showErrorModal} onHide={handleCloseErrorModal} centered>\n//         <Modal.Header closeButton className=\"bg-danger text-white\">\n//           <Modal.Title>Login Failed</Modal.Title>\n//         </Modal.Header>\n//         <Modal.Body>\n//           <div className=\"text-center\">\n//             <i className=\"bi bi-exclamation-circle-fill text-danger\" style={{ fontSize: \"3rem\" }}></i>\n//             <p className=\"mt-3\">{errorMessage}</p>\n//           </div>\n//         </Modal.Body>\n//         <Modal.Footer>\n//           <Button variant=\"danger\" onClick={handleCloseErrorModal}>\n//             Try Again\n//           </Button>\n//         </Modal.Footer>\n//       </Modal>\n//     </>\n//   );\n// };\n// export default Login;\nimport React,{useState,useEffect}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import{Footer,Navbar}from\"../components\";import axios from\"axios\";import{Modal,Button}from\"react-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Login=()=>{const[formData,setFormData]=useState({email:\"\",password:\"\"});const[error,setError]=useState(\"\");const[loading,setLoading]=useState(false);const[showSuccessModal,setShowSuccessModal]=useState(false);const[showErrorModal,setShowErrorModal]=useState(false);const[errorMessage,setErrorMessage]=useState(\"\");const[isLoggedIn,setIsLoggedIn]=useState(false);const[userName,setUserName]=useState(\"\");const navigate=useNavigate();const{email,password}=formData;// Check if user is already logged in\nuseEffect(()=>{const token=localStorage.getItem(\"token\");const user=JSON.parse(localStorage.getItem(\"user\")||\"{}\");if(token&&user){setIsLoggedIn(true);setUserName(user.name||user.username||user.email||\"User\");// Check if there's a redirectAfterLogin path and handle it\nconst redirectPath=sessionStorage.getItem('redirectAfterLogin');if(redirectPath){setTimeout(()=>{sessionStorage.removeItem('redirectAfterLogin');navigate(redirectPath);},500);// Short delay to ensure state is set\n}}},[navigate]);const handleLogout=()=>{localStorage.removeItem(\"token\");localStorage.removeItem(\"user\");setIsLoggedIn(false);setUserName(\"\");// Show a quick logout message\nsetError(\"You have been logged out successfully.\");setTimeout(()=>setError(\"\"),3000);};const onChange=e=>setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));// Close modals\nconst handleCloseSuccessModal=()=>{setShowSuccessModal(false);// Check if there's a stored redirect path\nconst redirectPath=sessionStorage.getItem('redirectAfterLogin');if(redirectPath){sessionStorage.removeItem('redirectAfterLogin');navigate(redirectPath);}else{navigate(\"/\");}};const handleCloseErrorModal=()=>{setShowErrorModal(false);};const onSubmit=async e=>{e.preventDefault();setError(\"\");setLoading(true);try{const config={headers:{\"Content-Type\":\"application/json\"}};const body=JSON.stringify({email,password});// const apiUrl = process.env.REACT_APP_API_URL || \"http://localhost:5000\";\nconst apiUrl=process.env.REACT_APP_API_URL||\"https://e-com-fpj2.onrender.com\";const res=await axios.post(\"\".concat(apiUrl,\"/api/login\"),body,config);// Save token and user to localStorage\nlocalStorage.setItem(\"token\",res.data.token);localStorage.setItem(\"user\",JSON.stringify(res.data.user));setLoading(false);setIsLoggedIn(true);setUserName(res.data.user.name||res.data.user.username||res.data.user.email||\"User\");// Show success modal instead of immediate redirect\nsetShowSuccessModal(true);}catch(err){var _err$response,_err$response$data;const message=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"Login failed. Please check your credentials.\";setError(message);setErrorMessage(message);setShowErrorModal(true);setLoading(false);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container my-3 py-3\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\"Login\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"row my-4 h-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 col-lg-4 col-sm-8 mx-auto\",children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:error}),isLoggedIn?/*#__PURE__*/_jsx(\"div\",{className:\"card p-4 text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-person-circle text-primary\",style:{fontSize:\"3rem\"}}),/*#__PURE__*/_jsxs(\"h3\",{className:\"my-3\",children:[\"Welcome back, \",userName,\"!\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-4\",children:\"You are already logged in.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center gap-3\",children:[/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:()=>{// Check if there's a redirectAfterLogin path\nconst redirectPath=sessionStorage.getItem('redirectAfterLogin');if(redirectPath){sessionStorage.removeItem('redirectAfterLogin');navigate(redirectPath);}else{navigate(\"/\");}},children:sessionStorage.getItem('redirectAfterLogin')?'Continue to Checkout':'Go to Homepage'}),/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",onClick:handleLogout,children:\"Logout\"})]})]})}):/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"my-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",name:\"email\",value:email,onChange:onChange,placeholder:\"name@example.com\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",name:\"password\",value:password,onChange:onChange,placeholder:\"Password\",required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"my-3\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"New Here? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"text-decoration-underline text-info\",children:\"Register\"}),\" \"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"button\",{className:\"my-2 mx-auto btn btn-dark\",type:\"submit\",disabled:loading,children:loading?\"Logging in...\":\"Login\"})})]})]})})]}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsxs(Modal,{show:showSuccessModal,onHide:handleCloseSuccessModal,centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,className:\"bg-success text-white\",children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Login Successful\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-check-circle-fill text-success\",style:{fontSize:\"3rem\"}}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-3\",children:\"You have successfully logged in!\"}),sessionStorage.getItem('redirectAfterLogin')&&/*#__PURE__*/_jsx(\"p\",{children:\"You will be redirected to checkout.\"})]})}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{variant:\"success\",onClick:handleCloseSuccessModal,children:sessionStorage.getItem('redirectAfterLogin')?'Continue to Checkout':'Continue'})})]}),/*#__PURE__*/_jsxs(Modal,{show:showErrorModal,onHide:handleCloseErrorModal,centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,className:\"bg-danger text-white\",children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Login Failed\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-exclamation-circle-fill text-danger\",style:{fontSize:\"3rem\"}}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-3\",children:errorMessage})]})}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:handleCloseErrorModal,children:\"Try Again\"})})]})]});};export default Login;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","Footer","Navbar","axios","Modal","Button","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","formData","setFormData","email","password","error","setError","loading","setLoading","showSuccessModal","setShowSuccessModal","showErrorModal","setShowErrorModal","errorMessage","setErrorMessage","isLoggedIn","setIsLoggedIn","userName","setUserName","navigate","token","localStorage","getItem","user","JSON","parse","name","username","redirectPath","sessionStorage","setTimeout","removeItem","handleLogout","onChange","e","_objectSpread","target","value","handleCloseSuccessModal","handleCloseErrorModal","onSubmit","preventDefault","config","headers","body","stringify","apiUrl","process","env","REACT_APP_API_URL","res","post","concat","setItem","data","err","_err$response","_err$response$data","message","response","children","className","style","fontSize","variant","onClick","htmlFor","type","id","placeholder","required","to","disabled","show","onHide","centered","Header","closeButton","Title","Body"],"sources":["Y:/MY/Certificate/E-COM/E_Commerce/src/pages/Login.jsx"],"sourcesContent":["// import React, { useState, useEffect } from \"react\";\n// import { Link, useNavigate } from \"react-router-dom\";\n// import { Footer, Navbar } from \"../components\";\n// import axios from \"axios\";\n// import { Modal, Button } from \"react-bootstrap\";\n\n// const Login = () => {\n//   const [formData, setFormData] = useState({\n//     email: \"\",\n//     password: \"\"\n//   });\n//   const [error, setError] = useState(\"\");\n//   const [loading, setLoading] = useState(false);\n//   const [showSuccessModal, setShowSuccessModal] = useState(false);\n//   const [showErrorModal, setShowErrorModal] = useState(false);\n//   const [errorMessage, setErrorMessage] = useState(\"\");\n//   const [isLoggedIn, setIsLoggedIn] = useState(false);\n//   const [userName, setUserName] = useState(\"\");\n//   const navigate = useNavigate();\n\n//   const { email, password } = formData;\n\n//   // Check if user is already logged in\n//   useEffect(() => {\n//     const token = localStorage.getItem(\"token\");\n//     const user = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\n    \n//     if (token && user) {\n//       setIsLoggedIn(true);\n//       setUserName(user.name || user.username || user.email || \"User\");\n//     }\n//   }, []);\n\n//   const handleLogout = () => {\n//     localStorage.removeItem(\"token\");\n//     localStorage.removeItem(\"user\");\n//     setIsLoggedIn(false);\n//     setUserName(\"\");\n//     // Show a quick logout message\n//     setError(\"You have been logged out successfully.\");\n//     setTimeout(() => setError(\"\"), 3000);\n//   };\n\n//   const onChange = e => setFormData({ ...formData, [e.target.name]: e.target.value });\n\n//   // Close modals\n//   const handleCloseSuccessModal = () => {\n//     setShowSuccessModal(false);\n//     navigate(\"/\");\n//   };\n\n//   const handleCloseErrorModal = () => {\n//     setShowErrorModal(false);\n//   };\n\n//   const onSubmit = async e => {\n//     e.preventDefault();\n//     setError(\"\");\n//     setLoading(true);\n\n//     try {\n//       const config = {\n//         headers: {\n//           \"Content-Type\": \"application/json\"\n//         }\n//       };\n\n//       const body = JSON.stringify({ email, password });\n//       const apiUrl = process.env.REACT_APP_API_URL || \"http://localhost:5000\";\n\n//       const res = await axios.post(`${apiUrl}/api/login`, body, config);\n\n//       // Save token and user to localStorage\n//       localStorage.setItem(\"token\", res.data.token);\n//       localStorage.setItem(\"user\", JSON.stringify(res.data.user));\n\n//       setLoading(false);\n      \n//       // Show success modal instead of immediate redirect\n//       setShowSuccessModal(true);\n      \n//       // Optional: Auto-redirect after success modal display (3 seconds)\n//       // setTimeout(() => {\n//       //   setShowSuccessModal(false);\n//       //   navigate(\"/\");\n//       // }, 3000);\n      \n//     } catch (err) {\n//       const message = err.response?.data?.message || \"Login failed. Please check your credentials.\";\n//       setError(message);\n//       setErrorMessage(message);\n//       setShowErrorModal(true);\n//       setLoading(false);\n//     }\n//   };\n\n//   return (\n//     <>\n//       <Navbar />\n//       <div className=\"container my-3 py-3\">\n//         <h1 className=\"text-center\">Login</h1>\n//         <hr />\n//         <div className=\"row my-4 h-100\">\n//           <div className=\"col-md-6 col-lg-4 col-sm-8 mx-auto\">\n//             {error && <div className=\"alert alert-danger\">{error}</div>}\n            \n//             {isLoggedIn ? (\n//               <div className=\"card p-4 text-center\">\n//                 <div className=\"card-body\">\n//                   <i className=\"bi bi-person-circle text-primary\" style={{ fontSize: \"3rem\" }}></i>\n//                   <h3 className=\"my-3\">Welcome back, {userName}!</h3>\n//                   <p className=\"mb-4\">You are already logged in.</p>\n//                   <div className=\"d-flex justify-content-center gap-3\">\n//                     <Button variant=\"primary\" onClick={() => navigate(\"/\")}>\n//                       Go to Homepage\n//                     </Button>\n//                     <Button variant=\"outline-danger\" onClick={handleLogout}>\n//                       Logout\n//                     </Button>\n//                   </div>\n//                 </div>\n//               </div>\n//             ) : (\n//               <form onSubmit={onSubmit}>\n//                 <div className=\"my-3\">\n//                   <label htmlFor=\"email\">Email address</label>\n//                   <input\n//                     type=\"email\"\n//                     className=\"form-control\"\n//                     id=\"email\"\n//                     name=\"email\"\n//                     value={email}\n//                     onChange={onChange}\n//                     placeholder=\"name@example.com\"\n//                     required\n//                   />\n//                 </div>\n//                 <div className=\"my-3\">\n//                   <label htmlFor=\"password\">Password</label>\n//                   <input\n//                     type=\"password\"\n//                     className=\"form-control\"\n//                     id=\"password\"\n//                     name=\"password\"\n//                     value={password}\n//                     onChange={onChange}\n//                     placeholder=\"Password\"\n//                     required\n//                   />\n//                 </div>\n//                 <div className=\"my-3\">\n//                   <p>New Here? <Link to=\"/register\" className=\"text-decoration-underline text-info\">Register</Link> </p>\n//                 </div>\n//                 <div className=\"text-center\">\n//                   <button className=\"my-2 mx-auto btn btn-dark\" type=\"submit\" disabled={loading}>\n//                     {loading ? \"Logging in...\" : \"Login\"}\n//                   </button>\n//                 </div>\n//               </form>\n//             )}\n//           </div>\n//         </div>\n//       </div>\n//       <Footer />\n\n//       {/* Success Modal */}\n//       <Modal show={showSuccessModal} onHide={handleCloseSuccessModal} centered>\n//         <Modal.Header closeButton className=\"bg-success text-white\">\n//           <Modal.Title>Login Successful</Modal.Title>\n//         </Modal.Header>\n//         <Modal.Body>\n//           <div className=\"text-center\">\n//             <i className=\"bi bi-check-circle-fill text-success\" style={{ fontSize: \"3rem\" }}></i>\n//             <p className=\"mt-3\">You have successfully logged in!</p>\n//           </div>\n//         </Modal.Body>\n//         <Modal.Footer>\n//           <Button variant=\"success\" onClick={handleCloseSuccessModal}>\n//             Continue\n//           </Button>\n//         </Modal.Footer>\n//       </Modal>\n\n//       {/* Error Modal */}\n//       <Modal show={showErrorModal} onHide={handleCloseErrorModal} centered>\n//         <Modal.Header closeButton className=\"bg-danger text-white\">\n//           <Modal.Title>Login Failed</Modal.Title>\n//         </Modal.Header>\n//         <Modal.Body>\n//           <div className=\"text-center\">\n//             <i className=\"bi bi-exclamation-circle-fill text-danger\" style={{ fontSize: \"3rem\" }}></i>\n//             <p className=\"mt-3\">{errorMessage}</p>\n//           </div>\n//         </Modal.Body>\n//         <Modal.Footer>\n//           <Button variant=\"danger\" onClick={handleCloseErrorModal}>\n//             Try Again\n//           </Button>\n//         </Modal.Footer>\n//       </Modal>\n//     </>\n//   );\n// };\n\n// export default Login;\n\n\n\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { Footer, Navbar } from \"../components\";\nimport axios from \"axios\";\nimport { Modal, Button } from \"react-bootstrap\";\n\nconst Login = () => {\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [showSuccessModal, setShowSuccessModal] = useState(false);\n  const [showErrorModal, setShowErrorModal] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [userName, setUserName] = useState(\"\");\n  const navigate = useNavigate();\n\n  const { email, password } = formData;\n\n  // Check if user is already logged in\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    const user = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\n    \n    if (token && user) {\n      setIsLoggedIn(true);\n      setUserName(user.name || user.username || user.email || \"User\");\n      \n      // Check if there's a redirectAfterLogin path and handle it\n      const redirectPath = sessionStorage.getItem('redirectAfterLogin');\n      if (redirectPath) {\n        setTimeout(() => {\n          sessionStorage.removeItem('redirectAfterLogin');\n          navigate(redirectPath);\n        }, 500); // Short delay to ensure state is set\n      }\n    }\n  }, [navigate]);\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"user\");\n    setIsLoggedIn(false);\n    setUserName(\"\");\n    // Show a quick logout message\n    setError(\"You have been logged out successfully.\");\n    setTimeout(() => setError(\"\"), 3000);\n  };\n\n  const onChange = e => setFormData({ ...formData, [e.target.name]: e.target.value });\n\n  // Close modals\n  const handleCloseSuccessModal = () => {\n    setShowSuccessModal(false);\n    \n    // Check if there's a stored redirect path\n    const redirectPath = sessionStorage.getItem('redirectAfterLogin');\n    if (redirectPath) {\n      sessionStorage.removeItem('redirectAfterLogin');\n      navigate(redirectPath);\n    } else {\n      navigate(\"/\");\n    }\n  };\n\n  const handleCloseErrorModal = () => {\n    setShowErrorModal(false);\n  };\n\n  const onSubmit = async e => {\n    e.preventDefault();\n    setError(\"\");\n    setLoading(true);\n\n    try {\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      };\n\n      const body = JSON.stringify({ email, password });\n      // const apiUrl = process.env.REACT_APP_API_URL || \"http://localhost:5000\";\n      const apiUrl = process.env.REACT_APP_API_URL || \"https://e-com-fpj2.onrender.com\";\n\n      const res = await axios.post(`${apiUrl}/api/login`, body, config);\n\n      // Save token and user to localStorage\n      localStorage.setItem(\"token\", res.data.token);\n      localStorage.setItem(\"user\", JSON.stringify(res.data.user));\n\n      setLoading(false);\n      setIsLoggedIn(true);\n      setUserName(res.data.user.name || res.data.user.username || res.data.user.email || \"User\");\n      \n      // Show success modal instead of immediate redirect\n      setShowSuccessModal(true);\n      \n    } catch (err) {\n      const message = err.response?.data?.message || \"Login failed. Please check your credentials.\";\n      setError(message);\n      setErrorMessage(message);\n      setShowErrorModal(true);\n      setLoading(false);\n    }\n  };\n\n  return (\n    <>\n      <Navbar />\n      <div className=\"container my-3 py-3\">\n        <h1 className=\"text-center\">Login</h1>\n        <hr />\n        <div className=\"row my-4 h-100\">\n          <div className=\"col-md-6 col-lg-4 col-sm-8 mx-auto\">\n            {error && <div className=\"alert alert-danger\">{error}</div>}\n            \n            {isLoggedIn ? (\n              <div className=\"card p-4 text-center\">\n                <div className=\"card-body\">\n                  <i className=\"bi bi-person-circle text-primary\" style={{ fontSize: \"3rem\" }}></i>\n                  <h3 className=\"my-3\">Welcome back, {userName}!</h3>\n                  <p className=\"mb-4\">You are already logged in.</p>\n                  <div className=\"d-flex justify-content-center gap-3\">\n                    <Button variant=\"primary\" onClick={() => {\n                      // Check if there's a redirectAfterLogin path\n                      const redirectPath = sessionStorage.getItem('redirectAfterLogin');\n                      if (redirectPath) {\n                        sessionStorage.removeItem('redirectAfterLogin');\n                        navigate(redirectPath);\n                      } else {\n                        navigate(\"/\");\n                      }\n                    }}>\n                      {sessionStorage.getItem('redirectAfterLogin') ? 'Continue to Checkout' : 'Go to Homepage'}\n                    </Button>\n                    <Button variant=\"outline-danger\" onClick={handleLogout}>\n                      Logout\n                    </Button>\n                  </div>\n                </div>\n              </div>\n            ) : (\n              <form onSubmit={onSubmit}>\n                <div className=\"my-3\">\n                  <label htmlFor=\"email\">Email address</label>\n                  <input\n                    type=\"email\"\n                    className=\"form-control\"\n                    id=\"email\"\n                    name=\"email\"\n                    value={email}\n                    onChange={onChange}\n                    placeholder=\"name@example.com\"\n                    required\n                  />\n                </div>\n                <div className=\"my-3\">\n                  <label htmlFor=\"password\">Password</label>\n                  <input\n                    type=\"password\"\n                    className=\"form-control\"\n                    id=\"password\"\n                    name=\"password\"\n                    value={password}\n                    onChange={onChange}\n                    placeholder=\"Password\"\n                    required\n                  />\n                </div>\n                <div className=\"my-3\">\n                  <p>New Here? <Link to=\"/register\" className=\"text-decoration-underline text-info\">Register</Link> </p>\n                </div>\n                <div className=\"text-center\">\n                  <button className=\"my-2 mx-auto btn btn-dark\" type=\"submit\" disabled={loading}>\n                    {loading ? \"Logging in...\" : \"Login\"}\n                  </button>\n                </div>\n              </form>\n            )}\n          </div>\n        </div>\n      </div>\n      <Footer />\n\n      {/* Success Modal */}\n      <Modal show={showSuccessModal} onHide={handleCloseSuccessModal} centered>\n        <Modal.Header closeButton className=\"bg-success text-white\">\n          <Modal.Title>Login Successful</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"text-center\">\n            <i className=\"bi bi-check-circle-fill text-success\" style={{ fontSize: \"3rem\" }}></i>\n            <p className=\"mt-3\">You have successfully logged in!</p>\n            {sessionStorage.getItem('redirectAfterLogin') && (\n              <p>You will be redirected to checkout.</p>\n            )}\n          </div>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"success\" onClick={handleCloseSuccessModal}>\n            {sessionStorage.getItem('redirectAfterLogin') ? 'Continue to Checkout' : 'Continue'}\n          </Button>\n        </Modal.Footer>\n      </Modal>\n\n      {/* Error Modal */}\n      <Modal show={showErrorModal} onHide={handleCloseErrorModal} centered>\n        <Modal.Header closeButton className=\"bg-danger text-white\">\n          <Modal.Title>Login Failed</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"text-center\">\n            <i className=\"bi bi-exclamation-circle-fill text-danger\" style={{ fontSize: \"3rem\" }}></i>\n            <p className=\"mt-3\">{errorMessage}</p>\n          </div>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"danger\" onClick={handleCloseErrorModal}>\n            Try Again\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n};\n\nexport default Login;"],"mappings":"uHAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAIA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,OAASC,MAAM,CAAEC,MAAM,KAAQ,eAAe,CAC9C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,KAAK,CAAEC,MAAM,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAEhD,KAAM,CAAAC,KAAK,CAAGA,CAAA,GAAM,CAClB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGjB,QAAQ,CAAC,CACvCkB,KAAK,CAAE,EAAE,CACTC,QAAQ,CAAE,EACZ,CAAC,CAAC,CACF,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGrB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACsB,OAAO,CAAEC,UAAU,CAAC,CAAGvB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACwB,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGzB,QAAQ,CAAC,KAAK,CAAC,CAC/D,KAAM,CAAC0B,cAAc,CAAEC,iBAAiB,CAAC,CAAG3B,QAAQ,CAAC,KAAK,CAAC,CAC3D,KAAM,CAAC4B,YAAY,CAAEC,eAAe,CAAC,CAAG7B,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAAC8B,UAAU,CAAEC,aAAa,CAAC,CAAG/B,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAACgC,QAAQ,CAAEC,WAAW,CAAC,CAAGjC,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAAkC,QAAQ,CAAG/B,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAEe,KAAK,CAAEC,QAAS,CAAC,CAAGH,QAAQ,CAEpC;AACAf,SAAS,CAAC,IAAM,CACd,KAAM,CAAAkC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACJ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAI,IAAI,CAAC,CAE7D,GAAIF,KAAK,EAAIG,IAAI,CAAE,CACjBP,aAAa,CAAC,IAAI,CAAC,CACnBE,WAAW,CAACK,IAAI,CAACG,IAAI,EAAIH,IAAI,CAACI,QAAQ,EAAIJ,IAAI,CAACpB,KAAK,EAAI,MAAM,CAAC,CAE/D;AACA,KAAM,CAAAyB,YAAY,CAAGC,cAAc,CAACP,OAAO,CAAC,oBAAoB,CAAC,CACjE,GAAIM,YAAY,CAAE,CAChBE,UAAU,CAAC,IAAM,CACfD,cAAc,CAACE,UAAU,CAAC,oBAAoB,CAAC,CAC/CZ,QAAQ,CAACS,YAAY,CAAC,CACxB,CAAC,CAAE,GAAG,CAAC,CAAE;AACX,CACF,CACF,CAAC,CAAE,CAACT,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAa,YAAY,CAAGA,CAAA,GAAM,CACzBX,YAAY,CAACU,UAAU,CAAC,OAAO,CAAC,CAChCV,YAAY,CAACU,UAAU,CAAC,MAAM,CAAC,CAC/Bf,aAAa,CAAC,KAAK,CAAC,CACpBE,WAAW,CAAC,EAAE,CAAC,CACf;AACAZ,QAAQ,CAAC,wCAAwC,CAAC,CAClDwB,UAAU,CAAC,IAAMxB,QAAQ,CAAC,EAAE,CAAC,CAAE,IAAI,CAAC,CACtC,CAAC,CAED,KAAM,CAAA2B,QAAQ,CAAGC,CAAC,EAAIhC,WAAW,CAAAiC,aAAA,CAAAA,aAAA,IAAMlC,QAAQ,MAAE,CAACiC,CAAC,CAACE,MAAM,CAACV,IAAI,EAAGQ,CAAC,CAACE,MAAM,CAACC,KAAK,EAAE,CAAC,CAEnF;AACA,KAAM,CAAAC,uBAAuB,CAAGA,CAAA,GAAM,CACpC5B,mBAAmB,CAAC,KAAK,CAAC,CAE1B;AACA,KAAM,CAAAkB,YAAY,CAAGC,cAAc,CAACP,OAAO,CAAC,oBAAoB,CAAC,CACjE,GAAIM,YAAY,CAAE,CAChBC,cAAc,CAACE,UAAU,CAAC,oBAAoB,CAAC,CAC/CZ,QAAQ,CAACS,YAAY,CAAC,CACxB,CAAC,IAAM,CACLT,QAAQ,CAAC,GAAG,CAAC,CACf,CACF,CAAC,CAED,KAAM,CAAAoB,qBAAqB,CAAGA,CAAA,GAAM,CAClC3B,iBAAiB,CAAC,KAAK,CAAC,CAC1B,CAAC,CAED,KAAM,CAAA4B,QAAQ,CAAG,KAAM,CAAAN,CAAC,EAAI,CAC1BA,CAAC,CAACO,cAAc,CAAC,CAAC,CAClBnC,QAAQ,CAAC,EAAE,CAAC,CACZE,UAAU,CAAC,IAAI,CAAC,CAEhB,GAAI,CACF,KAAM,CAAAkC,MAAM,CAAG,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAED,KAAM,CAAAC,IAAI,CAAGpB,IAAI,CAACqB,SAAS,CAAC,CAAE1C,KAAK,CAAEC,QAAS,CAAC,CAAC,CAChD;AACA,KAAM,CAAA0C,MAAM,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,iCAAiC,CAEjF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAA3D,KAAK,CAAC4D,IAAI,IAAAC,MAAA,CAAIN,MAAM,eAAcF,IAAI,CAAEF,MAAM,CAAC,CAEjE;AACArB,YAAY,CAACgC,OAAO,CAAC,OAAO,CAAEH,GAAG,CAACI,IAAI,CAAClC,KAAK,CAAC,CAC7CC,YAAY,CAACgC,OAAO,CAAC,MAAM,CAAE7B,IAAI,CAACqB,SAAS,CAACK,GAAG,CAACI,IAAI,CAAC/B,IAAI,CAAC,CAAC,CAE3Df,UAAU,CAAC,KAAK,CAAC,CACjBQ,aAAa,CAAC,IAAI,CAAC,CACnBE,WAAW,CAACgC,GAAG,CAACI,IAAI,CAAC/B,IAAI,CAACG,IAAI,EAAIwB,GAAG,CAACI,IAAI,CAAC/B,IAAI,CAACI,QAAQ,EAAIuB,GAAG,CAACI,IAAI,CAAC/B,IAAI,CAACpB,KAAK,EAAI,MAAM,CAAC,CAE1F;AACAO,mBAAmB,CAAC,IAAI,CAAC,CAE3B,CAAE,MAAO6C,GAAG,CAAE,KAAAC,aAAA,CAAAC,kBAAA,CACZ,KAAM,CAAAC,OAAO,CAAG,EAAAF,aAAA,CAAAD,GAAG,CAACI,QAAQ,UAAAH,aAAA,kBAAAC,kBAAA,CAAZD,aAAA,CAAcF,IAAI,UAAAG,kBAAA,iBAAlBA,kBAAA,CAAoBC,OAAO,GAAI,8CAA8C,CAC7FpD,QAAQ,CAACoD,OAAO,CAAC,CACjB5C,eAAe,CAAC4C,OAAO,CAAC,CACxB9C,iBAAiB,CAAC,IAAI,CAAC,CACvBJ,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,mBACEX,KAAA,CAAAE,SAAA,EAAA6D,QAAA,eACEjE,IAAA,CAACL,MAAM,GAAE,CAAC,cACVO,KAAA,QAAKgE,SAAS,CAAC,qBAAqB,CAAAD,QAAA,eAClCjE,IAAA,OAAIkE,SAAS,CAAC,aAAa,CAAAD,QAAA,CAAC,OAAK,CAAI,CAAC,cACtCjE,IAAA,QAAK,CAAC,cACNA,IAAA,QAAKkE,SAAS,CAAC,gBAAgB,CAAAD,QAAA,cAC7B/D,KAAA,QAAKgE,SAAS,CAAC,oCAAoC,CAAAD,QAAA,EAChDvD,KAAK,eAAIV,IAAA,QAAKkE,SAAS,CAAC,oBAAoB,CAAAD,QAAA,CAAEvD,KAAK,CAAM,CAAC,CAE1DU,UAAU,cACTpB,IAAA,QAAKkE,SAAS,CAAC,sBAAsB,CAAAD,QAAA,cACnC/D,KAAA,QAAKgE,SAAS,CAAC,WAAW,CAAAD,QAAA,eACxBjE,IAAA,MAAGkE,SAAS,CAAC,kCAAkC,CAACC,KAAK,CAAE,CAAEC,QAAQ,CAAE,MAAO,CAAE,CAAI,CAAC,cACjFlE,KAAA,OAAIgE,SAAS,CAAC,MAAM,CAAAD,QAAA,EAAC,gBAAc,CAAC3C,QAAQ,CAAC,GAAC,EAAI,CAAC,cACnDtB,IAAA,MAAGkE,SAAS,CAAC,MAAM,CAAAD,QAAA,CAAC,4BAA0B,CAAG,CAAC,cAClD/D,KAAA,QAAKgE,SAAS,CAAC,qCAAqC,CAAAD,QAAA,eAClDjE,IAAA,CAACF,MAAM,EAACuE,OAAO,CAAC,SAAS,CAACC,OAAO,CAAEA,CAAA,GAAM,CACvC;AACA,KAAM,CAAArC,YAAY,CAAGC,cAAc,CAACP,OAAO,CAAC,oBAAoB,CAAC,CACjE,GAAIM,YAAY,CAAE,CAChBC,cAAc,CAACE,UAAU,CAAC,oBAAoB,CAAC,CAC/CZ,QAAQ,CAACS,YAAY,CAAC,CACxB,CAAC,IAAM,CACLT,QAAQ,CAAC,GAAG,CAAC,CACf,CACF,CAAE,CAAAyC,QAAA,CACC/B,cAAc,CAACP,OAAO,CAAC,oBAAoB,CAAC,CAAG,sBAAsB,CAAG,gBAAgB,CACnF,CAAC,cACT3B,IAAA,CAACF,MAAM,EAACuE,OAAO,CAAC,gBAAgB,CAACC,OAAO,CAAEjC,YAAa,CAAA4B,QAAA,CAAC,QAExD,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,CACH,CAAC,cAEN/D,KAAA,SAAM2C,QAAQ,CAAEA,QAAS,CAAAoB,QAAA,eACvB/D,KAAA,QAAKgE,SAAS,CAAC,MAAM,CAAAD,QAAA,eACnBjE,IAAA,UAAOuE,OAAO,CAAC,OAAO,CAAAN,QAAA,CAAC,eAAa,CAAO,CAAC,cAC5CjE,IAAA,UACEwE,IAAI,CAAC,OAAO,CACZN,SAAS,CAAC,cAAc,CACxBO,EAAE,CAAC,OAAO,CACV1C,IAAI,CAAC,OAAO,CACZW,KAAK,CAAElC,KAAM,CACb8B,QAAQ,CAAEA,QAAS,CACnBoC,WAAW,CAAC,kBAAkB,CAC9BC,QAAQ,MACT,CAAC,EACC,CAAC,cACNzE,KAAA,QAAKgE,SAAS,CAAC,MAAM,CAAAD,QAAA,eACnBjE,IAAA,UAAOuE,OAAO,CAAC,UAAU,CAAAN,QAAA,CAAC,UAAQ,CAAO,CAAC,cAC1CjE,IAAA,UACEwE,IAAI,CAAC,UAAU,CACfN,SAAS,CAAC,cAAc,CACxBO,EAAE,CAAC,UAAU,CACb1C,IAAI,CAAC,UAAU,CACfW,KAAK,CAAEjC,QAAS,CAChB6B,QAAQ,CAAEA,QAAS,CACnBoC,WAAW,CAAC,UAAU,CACtBC,QAAQ,MACT,CAAC,EACC,CAAC,cACN3E,IAAA,QAAKkE,SAAS,CAAC,MAAM,CAAAD,QAAA,cACnB/D,KAAA,MAAA+D,QAAA,EAAG,YAAU,cAAAjE,IAAA,CAACR,IAAI,EAACoF,EAAE,CAAC,WAAW,CAACV,SAAS,CAAC,qCAAqC,CAAAD,QAAA,CAAC,UAAQ,CAAM,CAAC,IAAC,EAAG,CAAC,CACnG,CAAC,cACNjE,IAAA,QAAKkE,SAAS,CAAC,aAAa,CAAAD,QAAA,cAC1BjE,IAAA,WAAQkE,SAAS,CAAC,2BAA2B,CAACM,IAAI,CAAC,QAAQ,CAACK,QAAQ,CAAEjE,OAAQ,CAAAqD,QAAA,CAC3ErD,OAAO,CAAG,eAAe,CAAG,OAAO,CAC9B,CAAC,CACN,CAAC,EACF,CACP,EACE,CAAC,CACH,CAAC,EACH,CAAC,cACNZ,IAAA,CAACN,MAAM,GAAE,CAAC,cAGVQ,KAAA,CAACL,KAAK,EAACiF,IAAI,CAAEhE,gBAAiB,CAACiE,MAAM,CAAEpC,uBAAwB,CAACqC,QAAQ,MAAAf,QAAA,eACtEjE,IAAA,CAACH,KAAK,CAACoF,MAAM,EAACC,WAAW,MAAChB,SAAS,CAAC,uBAAuB,CAAAD,QAAA,cACzDjE,IAAA,CAACH,KAAK,CAACsF,KAAK,EAAAlB,QAAA,CAAC,kBAAgB,CAAa,CAAC,CAC/B,CAAC,cACfjE,IAAA,CAACH,KAAK,CAACuF,IAAI,EAAAnB,QAAA,cACT/D,KAAA,QAAKgE,SAAS,CAAC,aAAa,CAAAD,QAAA,eAC1BjE,IAAA,MAAGkE,SAAS,CAAC,sCAAsC,CAACC,KAAK,CAAE,CAAEC,QAAQ,CAAE,MAAO,CAAE,CAAI,CAAC,cACrFpE,IAAA,MAAGkE,SAAS,CAAC,MAAM,CAAAD,QAAA,CAAC,kCAAgC,CAAG,CAAC,CACvD/B,cAAc,CAACP,OAAO,CAAC,oBAAoB,CAAC,eAC3C3B,IAAA,MAAAiE,QAAA,CAAG,qCAAmC,CAAG,CAC1C,EACE,CAAC,CACI,CAAC,cACbjE,IAAA,CAACH,KAAK,CAACH,MAAM,EAAAuE,QAAA,cACXjE,IAAA,CAACF,MAAM,EAACuE,OAAO,CAAC,SAAS,CAACC,OAAO,CAAE3B,uBAAwB,CAAAsB,QAAA,CACxD/B,cAAc,CAACP,OAAO,CAAC,oBAAoB,CAAC,CAAG,sBAAsB,CAAG,UAAU,CAC7E,CAAC,CACG,CAAC,EACV,CAAC,cAGRzB,KAAA,CAACL,KAAK,EAACiF,IAAI,CAAE9D,cAAe,CAAC+D,MAAM,CAAEnC,qBAAsB,CAACoC,QAAQ,MAAAf,QAAA,eAClEjE,IAAA,CAACH,KAAK,CAACoF,MAAM,EAACC,WAAW,MAAChB,SAAS,CAAC,sBAAsB,CAAAD,QAAA,cACxDjE,IAAA,CAACH,KAAK,CAACsF,KAAK,EAAAlB,QAAA,CAAC,cAAY,CAAa,CAAC,CAC3B,CAAC,cACfjE,IAAA,CAACH,KAAK,CAACuF,IAAI,EAAAnB,QAAA,cACT/D,KAAA,QAAKgE,SAAS,CAAC,aAAa,CAAAD,QAAA,eAC1BjE,IAAA,MAAGkE,SAAS,CAAC,2CAA2C,CAACC,KAAK,CAAE,CAAEC,QAAQ,CAAE,MAAO,CAAE,CAAI,CAAC,cAC1FpE,IAAA,MAAGkE,SAAS,CAAC,MAAM,CAAAD,QAAA,CAAE/C,YAAY,CAAI,CAAC,EACnC,CAAC,CACI,CAAC,cACblB,IAAA,CAACH,KAAK,CAACH,MAAM,EAAAuE,QAAA,cACXjE,IAAA,CAACF,MAAM,EAACuE,OAAO,CAAC,QAAQ,CAACC,OAAO,CAAE1B,qBAAsB,CAAAqB,QAAA,CAAC,WAEzD,CAAQ,CAAC,CACG,CAAC,EACV,CAAC,EACR,CAAC,CAEP,CAAC,CAED,cAAe,CAAA5D,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}