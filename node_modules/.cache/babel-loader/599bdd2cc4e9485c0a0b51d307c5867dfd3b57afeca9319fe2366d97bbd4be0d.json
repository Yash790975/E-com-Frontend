{"ast":null,"code":"import _objectSpread from\"Y:/MY/Certificate/E-COM/E_Commerce/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/redux/reducers/handleCart.js\n// Retrieve initial state from localStorage if available\nconst getInitialCart=()=>{const storedCart=localStorage.getItem(\"cart\");return storedCart?JSON.parse(storedCart):[];};const handleCart=function(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:getInitialCart();let action=arguments.length>1?arguments[1]:undefined;console.log(\"[cart reducer] action:\",action.type,\"payload:\",action.payload);let updatedCart;switch(action.type){case\"ADDITEM\":const exist=state.find(x=>x.id===action.payload.id);if(exist){updatedCart=state.map(x=>x.id===action.payload.id?_objectSpread(_objectSpread({},x),{},{qty:x.qty+1}):x);}else{updatedCart=[...state,_objectSpread(_objectSpread({},action.payload),{},{qty:1})];}localStorage.setItem(\"cart\",JSON.stringify(updatedCart));return updatedCart;case\"DELITEM\":const exist2=state.find(x=>x.id===action.payload.id);if(exist2.qty===1){updatedCart=state.filter(x=>x.id!==action.payload.id);}else{updatedCart=state.map(x=>x.id===action.payload.id?_objectSpread(_objectSpread({},x),{},{qty:x.qty-1}):x);}localStorage.setItem(\"cart\",JSON.stringify(updatedCart));return updatedCart;default:return state;}};export default handleCart;","map":{"version":3,"names":["getInitialCart","storedCart","localStorage","getItem","JSON","parse","handleCart","state","arguments","length","undefined","action","console","log","type","payload","updatedCart","exist","find","x","id","map","_objectSpread","qty","setItem","stringify","exist2","filter"],"sources":["Y:/MY/Certificate/E-COM/E_Commerce/src/redux/reducer/handleCart.js"],"sourcesContent":["// src/redux/reducers/handleCart.js\n// Retrieve initial state from localStorage if available\nconst getInitialCart = () => {\n  const storedCart = localStorage.getItem(\"cart\");\n  return storedCart ? JSON.parse(storedCart) : [];\n};\n\nconst handleCart = (state = getInitialCart(), action) => {\n  console.log(\"[cart reducer] action:\", action.type, \"payload:\", action.payload);\n  let updatedCart;\n\n  switch (action.type) {\n    case \"ADDITEM\":\n      const exist = state.find((x) => x.id === action.payload.id);\n      if (exist) {\n        updatedCart = state.map(x =>\n          x.id === action.payload.id ? { ...x, qty: x.qty + 1 } : x\n        );\n      } else {\n        updatedCart = [...state, { ...action.payload, qty: 1 }];\n      }\n      localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\n      return updatedCart;\n\n    case \"DELITEM\":\n      const exist2 = state.find(x => x.id === action.payload.id);\n      if (exist2.qty === 1) {\n        updatedCart = state.filter(x => x.id !== action.payload.id);\n      } else {\n        updatedCart = state.map(x =>\n          x.id === action.payload.id ? { ...x, qty: x.qty - 1 } : x\n        );\n      }\n      localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\n      return updatedCart;\n\n    default:\n      return state;\n  }\n};\n\nexport default handleCart;\n"],"mappings":"uHAAA;AACA;AACA,KAAM,CAAAA,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAAAC,UAAU,CAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAC/C,MAAO,CAAAF,UAAU,CAAGG,IAAI,CAACC,KAAK,CAACJ,UAAU,CAAC,CAAG,EAAE,CACjD,CAAC,CAED,KAAM,CAAAK,UAAU,CAAG,QAAAA,CAAA,CAAsC,IAArC,CAAAC,KAAK,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAGR,cAAc,CAAC,CAAC,IAAE,CAAAW,MAAM,CAAAH,SAAA,CAAAC,MAAA,GAAAD,SAAA,IAAAE,SAAA,CAClDE,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAEF,MAAM,CAACG,IAAI,CAAE,UAAU,CAAEH,MAAM,CAACI,OAAO,CAAC,CAC9E,GAAI,CAAAC,WAAW,CAEf,OAAQL,MAAM,CAACG,IAAI,EACjB,IAAK,SAAS,CACZ,KAAM,CAAAG,KAAK,CAAGV,KAAK,CAACW,IAAI,CAAEC,CAAC,EAAKA,CAAC,CAACC,EAAE,GAAKT,MAAM,CAACI,OAAO,CAACK,EAAE,CAAC,CAC3D,GAAIH,KAAK,CAAE,CACTD,WAAW,CAAGT,KAAK,CAACc,GAAG,CAACF,CAAC,EACvBA,CAAC,CAACC,EAAE,GAAKT,MAAM,CAACI,OAAO,CAACK,EAAE,CAAAE,aAAA,CAAAA,aAAA,IAAQH,CAAC,MAAEI,GAAG,CAAEJ,CAAC,CAACI,GAAG,CAAG,CAAC,GAAKJ,CAC1D,CAAC,CACH,CAAC,IAAM,CACLH,WAAW,CAAG,CAAC,GAAGT,KAAK,CAAAe,aAAA,CAAAA,aAAA,IAAOX,MAAM,CAACI,OAAO,MAAEQ,GAAG,CAAE,CAAC,GAAG,CACzD,CACArB,YAAY,CAACsB,OAAO,CAAC,MAAM,CAAEpB,IAAI,CAACqB,SAAS,CAACT,WAAW,CAAC,CAAC,CACzD,MAAO,CAAAA,WAAW,CAEpB,IAAK,SAAS,CACZ,KAAM,CAAAU,MAAM,CAAGnB,KAAK,CAACW,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACC,EAAE,GAAKT,MAAM,CAACI,OAAO,CAACK,EAAE,CAAC,CAC1D,GAAIM,MAAM,CAACH,GAAG,GAAK,CAAC,CAAE,CACpBP,WAAW,CAAGT,KAAK,CAACoB,MAAM,CAACR,CAAC,EAAIA,CAAC,CAACC,EAAE,GAAKT,MAAM,CAACI,OAAO,CAACK,EAAE,CAAC,CAC7D,CAAC,IAAM,CACLJ,WAAW,CAAGT,KAAK,CAACc,GAAG,CAACF,CAAC,EACvBA,CAAC,CAACC,EAAE,GAAKT,MAAM,CAACI,OAAO,CAACK,EAAE,CAAAE,aAAA,CAAAA,aAAA,IAAQH,CAAC,MAAEI,GAAG,CAAEJ,CAAC,CAACI,GAAG,CAAG,CAAC,GAAKJ,CAC1D,CAAC,CACH,CACAjB,YAAY,CAACsB,OAAO,CAAC,MAAM,CAAEpB,IAAI,CAACqB,SAAS,CAACT,WAAW,CAAC,CAAC,CACzD,MAAO,CAAAA,WAAW,CAEpB,QACE,MAAO,CAAAT,KAAK,CAChB,CACF,CAAC,CAED,cAAe,CAAAD,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}